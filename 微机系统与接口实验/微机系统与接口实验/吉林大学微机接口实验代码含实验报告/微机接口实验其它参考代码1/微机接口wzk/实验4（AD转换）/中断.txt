CODE SEGMENT
     ASSUME CS:CODE
     
START:MOV AL,90H
      MOV DX,0686H
      OUT DX,AL   
      
        CLI           ;中断向量设置
		MOV AX,0000H
		MOV DS,AX
		MOV AX,OFFSET MIR6
		MOV SI,0038H
		MOV [SI],AX
		MOV AX,CS
		MOV SI,003AH
		MOV [SI],AX
		MOV AX,0000H
		MOV DS,AX
	
		MOV AL,11H
		OUT 20H,AL
	
		MOV AL,08H
		OUT 21H,AL
	
		MOV AL,04H
		OUT 21H,AL
	
		MOV AL,03H
		OUT 21H,AL
	
		MOV AL,2FH
		OUT 21H,AL
		STI  
      
LL1:
    CLI
    MOV AL,00H
    MOV DX,0640H
    OUT DX,AL  
    CALL DELAY 
    STI
    JMP LL1     
    
    
MIR6:
    STI
    MOV DX,0640H
    IN AL,DX
    MOV DX,0682H
    OUT DX,AL
    MOV AL,20H
    OUT 20H,AL
    IRET
    

  
     
DELAY:	PUSH CX
		MOV CX,0FFFFH
LL0:	PUSH AX
		POP AX
		LOOP LL0
		POP CX
		RET
  
  
   MOV AH,4CH
   INT 21H
   
CODE ENDS
     END START
