CODE SEGMENT
		ASSUME CS:CODE
	CLI 
	MOV AL,13H;ICW1
	MOV DX,0020H
	OUT DX,AL
	
	MOV AL,08H;ICW2 
	MOV DX,0021H
	OUT DX,AL
	
	MOV AL,03H;ICW4
	MOV DX,0021H
	OUT DX,AL
	
	MOV AL,2FH;0CW1
	MOV DX,0021H
	OUT DX,AL
	STI
		
	CLI 
	MOV AX,0
	MOV ES,AX
	MOV DI,38H
	MOV AX,OFFSET INTP6
	CLD 
	STOSW
	MOV AX,SEG INTP6
	STOSW
	STI
	
	CLI
	MOV AX,0
	MOV ES,AX
	MOV DI,3CH
	MOV AX,OFFSET INTP7
	CLD
	STOSW
	MOV AX,SEG INTP7
	STOSW
	STI
	
MAIN PROC FAR
	MOV DX,0646H
	MOV AL,80H
	OUT DX,AL
	
L1:	STI
	MOV DX,0642H
	MOV AL,0FFH
	OUT DX,AL
	
	JMP L1 
MAIN ENDP

INTP6 PROC FAR
	MOV DX,0642H
	MOV AL,0FH
	OUT DX,AL
	
	MOV CX,0FFFFH
L2: LOOP L2
	
	IRET
INTP6 ENDP

INTP7 PROC FAR
	MOV DX,0642H
	MOV AL,0F0H
	OUT DX,AL
	
	MOV CX,0FFFFH
L3: LOOP L3
	
	IRET
INTP7 ENDP

CODE ENDS
	END 