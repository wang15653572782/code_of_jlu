DATA SEGMENT	
TABLE   DB 3FH		;0
	DB 06H		;1
	DB 5BH		;2
	DB 4FH		;3
	DB 66H		;4
	DB 6DH		;5
	DB 7DH		;6
	DB 07H		;7
	DB 7FH		;8
	DB 6FH		;9
	DB 77H		;A
	DB 7CH		;B
	DB 39H		;C
	DB 5EH		;D
	DB 79H		;E
	DB 71H		;F
	DB 73H		;P
	DB 00H		;不显示
DATA ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA
START:  MOV AX,DATA
	MOV DS,AX
	CALL FUNC1
	;CALL FUNC2
	MOV AH,4CH
	INT 21H
FUNC1 PROC
	PUSH AX
	PUSH DX
	PUSH BX
	MOV AL,80H
	MOV DX,0606H
	OUT DX,AL
	MOV BX,0
X3: 	LEA SI,TABLE	
X4:     MOV AH,0DFH
X1:     MOV AL,[BX+SI]	
	MOV DX,0602H
	OUT DX,AL
	MOV AL,AH
	MOV DX,0600H
	OUT DX,AL
	CALL DELAY1
	INC BX
	CMP BX,10
	JZ X2
	
X5: ROR AH,1
	CMP AH,7FH
	JZ  X4

	JMP X1
X2:  
 MOV BX,0
	JMP X5
	POP BX
	POP DX
	POP AX
	RET
	FUNC1 ENDP
FUNC2 PROC
	PUSH AX
	PUSH DX
	PUSH BX
	PUSH CX
	MOV AL,80H
	MOV DX,0606H
	OUT DX,AL
XX3:	LEA SI,TABLE
	MOV BX,1
	MOV AH,0FEH            ;共阴极段码送1
XX1:    MOV AL,[BX+SI]
	MOV DX,0602H
	OUT DX,AL
	MOV AL,AH                                                     
	MOV DX,0600H
	OUT DX,AL
	CALL DELAY
	MOV AL,0FFH
	OUT DX,AL
	CALL DELAY
	ROL AH,1
	INC BX
	CMP BX,7
	JNZ XX1
	JMP XX3
NEXT:	POP CX
	POP BX
	POP DX
	POP AX
	RET
FUNC2 ENDP
DELAY PROC
	PUSH CX
	MOV CX,0FH
A1:	LOOP A1
	POP CX
	RET
DELAY ENDP
DELAY1 PROC
	PUSH CX
	PUSH BX
	MOV CX,0FFH
LL5: MOV BX,0FFFH
LL1:	DEC BX
	JNZ LL1
	LOOP LL5
	POP BX
	POP CX
	RET
DELAY1 ENDP
END START
CODE ENDS
	END START
		
	


	