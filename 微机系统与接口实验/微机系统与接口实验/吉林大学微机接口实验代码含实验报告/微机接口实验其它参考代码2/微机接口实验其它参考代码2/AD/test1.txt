
CODE SEGMENT
	ASSUME CS:CODE
START:
	; 8255 SET;use IOY1
	MOV AL, 90H
	MOV DX, 0646H
	OUT DX, AL
MLOOP:	
	; 启动 0809;use IOY2
	MOV DX, 0680H
	MOV AL, 00h
	OUT DX, AL
	
	CALL DELAY
	MOV DX, 0680H ; 读取
	IN AL, DX
	
	; 写 8255 B
	MOV DX, 0642H
	OUT DX, AL
	JMP MLOOP
	MOV AH, 4CH
	INT 21H

;延时子程序
DELAY PROC NEAR
	MOV CX, 0FFFFH
LOOP1:
	LOOP LOOP1
	RET
DELAY ENDP

	
CODE ENDS
	END START
