STACK0 SEGMENT STACK
	DW 32 DUP(?)
STACK0 ENDS
CODE SEGMENT
MAIN PROC FAR
	ASSUME CS:CODE
	MOV BX,8000H
	MOV DS,BX
	MOV AL,90H
	MOV DX,0646H
	OUT DX,AL
S1:MOV DX,0640H
	IN AL,DX
	AND AL,00000011B
	MOV DX,0642H
	OUT DX,AL
	CMP AL,00H
	JZ S2
	CMP AL,01H
	JZ S3
	CMP AL,02H
	JZ S4
	MOV AH,4CH
	INT 21H
S2:
	CALL SUB1
	JMP S1
S3:
	CALL SUB2
	JMP S1
S4:
	CALL SUB3
	JMP S1
SUB1 PROC NEAR
S10:MOV SI,0000H
	MOV CX,0010H
	MOV BX,0000H
S11:MOV [SI],BX
	INC SI
	INC SI
	INC BX
	LOOP S11
	RET
SUB1 ENDP

SUB2 PROC NEAR
S20:MOV SI,0001H
	MOV CX,0010H
	MOV BX,0000H
S21:MOV [SI],BX
	INC SI
	INC SI
	INC BX
	LOOP S21
	RET
SUB2 ENDP

SUB3 PROC NEAR
S30:MOV SI,0000H
	MOV CX,0010H
	MOV BX,0000H
S31:MOV [SI],BX
	INC SI
	INC BX
	LOOP S31
	RET
SUB3 ENDP

MAIN ENDP
CODE ENDS
	END MAIN